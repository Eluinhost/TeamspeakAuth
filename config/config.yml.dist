parameters:
  minutesToLast: 15
  iconURL: "https://minotar.net/helm/;username;/16.png"
  serverAddress: "auth.example.com or example.com:35879"
  teamspeak:
    host: ts.example.com
    port: 9987
    username: serveradmin
    password: ""
    query_port: 10011
    group_id: 222
  database:
    host: localhost
    port: 3306
    database: authentication
    username: ""
    password: ""
    tables:
      minecraft_codes: minecraft_codes
      teamspeak_codes: teamspeak_codes
      minecraft_users_table: mc_history
      teamspeak_users_table: ts_history
  minecraft:
    host: 0.0.0.0
    port: 35879
    motd: "Â§eAuth Server"

services:
  minecrafthelper:
    class: PublicUHC\TeamspeakAuth\Helpers\DefaultMinecraftHelper
    arguments: ["%iconURL%"]
  teamspeakhelper:
    class: PublicUHC\TeamspeakAuth\Helpers\DefaultTeamspeakHelper
    arguments: ["@teamspeakserver"]
  teamspeakserver:
    factory_class: TeamSpeak3
    factory_method: factory
    arguments: ["serverquery://%teamspeak.username%:%teamspeak.password%@%teamspeak.host%:%teamspeak.query_port%/?server_port=%teamspeak.port%"]
  tscodes:
    class: PublicUHC\TeamspeakAuth\Repositories\DefaultCodeRepository
    arguments: ["@pdo", "%database.tables.teamspeak_codes%", "%minutesToLast%"]
  mccodes:
    class: PublicUHC\TeamspeakAuth\Repositories\DefaultCodeRepository
    arguments: ["@pdo", "%database.tables.minecraft_codes%", "%minutesToLast%"]
  mcusers:
    class: PublicUHC\TeamspeakAuth\Repositories\DefaultUserRepositroy
    arguments: ["@pdo", "%database.tables.minecraft_users_table%"]
  tsusers:
      class: PublicUHC\TeamspeakAuth\Repositories\DefaultUserRepositroy
      arguments: ["@pdo", "%database.tables.teamspeak_users_table%"]
  pdo:
    class: PDO
    arguments: ["mysql:host=%database.host%;dbname=%database.database%", "%database.username%", "%database.password%"]